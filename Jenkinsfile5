pipeline {
environment {
        BRANCH = 'main'
    }
     agent any
     stages{
      stage("build") {
       steps{
       input 'Send to Test?'
       echo 'building the application..'
         }
       }
       stage("test") { 
        steps{
        input 'Send to Deploy?'
        echo 'testing the application..'
         }
       } 
       stage("Deploy") {
        steps{
       input 'Send to Release?'
         lock(label: 'test', resource: 'test', variable: 'stage') {
         echo "Resource locked: ${env.var}"
           }
         }
       }
      stage("release") {
       steps{
        input 'approve release?'
        echo 'releasing the application..'
      }
    }
  }
}
