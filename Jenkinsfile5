pipeline {
     agent any
     stages{
     stage("build") {
            input {
              message "Send to Test?"
                 ok "Yes"
            }
          
            steps{
       echo 'building the application..'
         }
       }
        stage("test") {
           input{
                message "Send to deploy?"
                ok "Yes"
                }
                lock("test") {
                echo "locked test"
                }
            steps{
                echo 'testing the application'
         }
       } 
       stage("deploy") {
           input {
                message 'Send to Release?' 
                ok "YES"
            }
            steps{
              catchError(buildResult : 'SUCCESS' , stageResult : 'FAILURE') {
                 sh "exit 1"
                 }
            }
       }
      stage("release") {
           steps {
        echo 'releasing the application..'
      }
    }
  }
}
